# Getting started {#getting-started}

This chapter gets you up and running with R Studio and writing R code like a real hacker.

::: {.rmdimportant}
**Goals**:
By the end of this chapter you will have R and R Studio installed, and be able to write, execute and understand some simple R code.
:::

## Installing R and RStudio

Although you'll usually work with R by opening RStudio, you need to install both R and RStudio separately. 

Install R by going to [CRAN](https://cran.r-project.org), the Comprehensive R Archive Network. CRAN is a community-run website that houses R itself as well as a broad range of R packages. 

```{r cran, echo = FALSE, out.width='100%'}
knitr::include_graphics("atlas/r_cran.png")
```

You want to download the latest base R release, as a 'binary'. Don't worry, you don't need to know what a binary is.

For macOS, the page will look like this:
```{r cran_mac2, echo = FALSE, out.width='100%'}
knitr::include_graphics("atlas/r_cran_macos.png")
```

For Windows, you'll need to click on the 'base' version, and then click again to start the download.

```{r cran_windows, echo = FALSE, out.width='100%'}
knitr::include_graphics("atlas/r_cran_windows_1.png")
knitr::include_graphics("atlas/r_cran_windows_2.png")
```

Once you've installed R, you'll need to install RStudio. Go to the [RStudio website and install the latest version](https://www.rstudio.com/products/rstudio/download/#download) of RStudio Desktop (open source license).

Once they're both installed, get started by opening RStudio. 

## Setting up RStudio

_Will to finish. Include:_ 

* Save data off (and other good defaults)
* Colour theme (important!)

## Scripts and 'coding'

R is a script-based program. You write a list of instructions and R will follow it. This is wonderfully handy: 

- everything you have told it to do, it will do;
- you have a record of everything you have told it to do. 

But 'coding' can intimidating! However, it’s just a list of instructions. If you have ever used Excel you have used functions to create output. You have written code. You're already a coder! 

We can greatly enhance the things we can do by using R. The rest of this chapter is a short guide to walk you through your first lines of R code. If you get stuck or something doesn't work or you have an urge to throw your computer out the window, please reach out to Will or James, or post on the `#r_at_grattan` [Slack channel](#seeking-help), and someone will help you out.

## A practical introduction to writing R code

From within RStudio, open a new script by: File -> New File -> R Script.

In that script, let’s do three things:

1. Write a comment starting with `#` something R will ignore – it’s just there for you.  
2. Define an object: **assign** the number 119 to the object named `goodnumber`.^[R is an 'object oriented' programming language. This means that all the things we want R to know about -- datasets, or vectors, or lists, or functions, or whatever -- are stored as 'objects'.] We **assign** something in R by using  `<-`, which you can read as 'assign the thing on the right to the objected on the left'.^[It works the other way, too, with `->`. But best to stick with `<-`.]
3. Calculate a thing.

Your script will look like this:

```{r}
# Hello I am starting my R script

goodnumber <- 119

2 * goodnumber
```

The code that you write in your script will sit there idly until you send it to be processed in the console. Run the code by:

* sending the _current line_ (where your cursor is) to the console with keyboard shortcut `CMD + return` (Mac) or `CTRL + shift` (Windows); or
* selecting a few lines of code and sending it to the console with the same keyboard shortcut; or 
* running the whole script -- from the first line to the last -- clicking 'Run':

```{r, echo=FALSE, out.width='100%'}
knitr::include_graphics("atlas/rstudio-run.png")
```


Having run your three lines of code, your RStuido should now look something like this:

```{r, echo=FALSE, out.width='100%'}
knitr::include_graphics("atlas/your-console2.png")
```


The object are stored in your **environment** (top-right panel of your RStudio window). 
You can think about your environment as _the things that R knows about at this point in time_.

::: {.rmdimportant}
**Exercise:**

In your R script: 

- Define an object to be equal to 90 

- Multiply the object by 100

- Divide the object by 10

```{r, class.source = 'fold-hide'}
# Hello I am starting my R script

goodnumber <- 119

2 * goodnumber
```

:::


### Functions

A function takes inputs (arguments, or parameters), performs an operation (or many), and produces outputs. For example, we can use the `c` function to combine numbers into a series of numbers (called a vector):

```{r functions1}
c(3, 4, 5)
```
_'combine the elements 3, 4 and 5 into a single vector'_

You could combine this with the `mean` function that calculates the average by 'nesting' one function inside another:^[This will be a well-known approach for Excel users!]

```{r functions2}

```

### Errors, warnings and messages



### Some other things to explore

```{r, eval=FALSE}
good_number <- 10
big_product <- 999

good_number * big_product

good_numbers <- c(10.5, 15, 45, 46, 54, 91, 101, 120, 150, 1e6)

mean(good_numbers)
sum(good_numbers)
round(good_numbers)
round(good_numbers, digits = -2)

normal_numbers <- rnorm(10, 0, 1)
summary(normal_numbers)
hist(normal_numbers)
```


